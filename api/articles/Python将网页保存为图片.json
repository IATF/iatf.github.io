{"title":"Python将网页保存为图片","uid":"edab951aaea45d7f19f050136703ffc3","slug":"Python将网页保存为图片","date":"2023-08-19T07:13:54.000Z","updated":"2024-03-06T15:30:09.357Z","comments":false,"path":"api/articles/Python将网页保存为图片.json","keywords":null,"cover":"images/7753777_0_final.png","content":"<h2 id=\"Python将网页保存为图片\"><a href=\"#Python将网页保存为图片\" class=\"headerlink\" title=\"Python将网页保存为图片\"></a>Python将网页保存为图片</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>思路：通过<code>selenium</code>打开网页，然后将网页保存为图片</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>依赖：<code>chrome</code>与<code>chromedriver</code>基础</p></blockquote>\n<h3 id=\"1-首先官方下载chromedriver\"><a href=\"#1-首先官方下载chromedriver\" class=\"headerlink\" title=\"1. 首先官方下载chromedriver\"></a>1. 首先官方下载<code>chromedriver</code></h3><p>ChromeDriver.com官方地址下载：<a href=\"https://chromedriver.com/\">https://chromedriver.com/</a></p>\n<p>需要注意与本地的chrome的版本一致，如果不确定本地版本可以在chrome的浏览器上进行查看<br><img src=\"/image.png\" alt=\"alt text\"><br><img src=\"/image-1.png\" alt=\"alt text\"><br><img src=\"/image-2.png\" alt=\"alt text\"></p>\n<h3 id=\"2-代码开发了\"><a href=\"#2-代码开发了\" class=\"headerlink\" title=\"2. 代码开发了\"></a>2. 代码开发了</h3><pre class=\"line-numbers language-Python\" data-language=\"Python\"><code class=\"language-Python\">from selenium import webdriver\nimport os\nimport time\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium.webdriver.chrome.service import Service\n\n\n# option参数设置，这里需要配置不需要打开浏览器，特别是如果想通过脚本运行或linux运行后台执行时\nchrome_options &#x3D; Options()\nchrome_options.add_argument(&#39;--headless&#39;)\nchrome_options.add_argument(&#39;--disable-gpu&#39;)\nchrome_options.add_argument(&#39;--start-maximized&#39;)\n\n# 配置本地下载的&#96;chromedriver&#96;地址\nservice &#x3D; Service(executable_path&#x3D;&#39;你得chromedriver的绝对路径&#39;)\ndriver &#x3D; webdriver.Chrome(options&#x3D;chrome_options, service&#x3D;service)\n\n# url是你要访问的地址\ndriver.get(url)\n# width和height\nwidth &#x3D; driver.execute_script(&quot;return Math.max(document.body.scrollWidth,document.body.offsetWidth, document.documentElement.clientWidth, document.documentElement.scrollWidth, document.documentElement.offsetWidth);&quot;)\nheight &#x3D; driver.execute_script(&quot;return Math.max(document.body.scrollHeight, document.body.offsetHeight,document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);&quot;)\ndriver.set_window_size(width, height)\n# 这里设置一个等待时间，可以根据你的网页的请求状态来进行设置\ntime.sleep(1)\n# 保存图片\ndriver.save_screenshot(str(hash(url)) + &#39;.png&#39;)\n# 退出\ndriver.quit()</code></pre>\n\n\n<h3 id=\"3-docker服务运行\"><a href=\"#3-docker服务运行\" class=\"headerlink\" title=\"3. docker服务运行\"></a>3. docker服务运行</h3><p>docker下载：<code>selenium/standalone-chrome:122.0</code></p>\n<p>docker官方地址：<a href=\"https://hub.docker.com/r/selenium/standalone-chrome\">https://hub.docker.com/r/selenium/standalone-chrome</a></p>\n<p>有了docker镜像，剩下的就是自己根据需求配置了</p>\n","feature":true,"text":"Python将网页保存为图片 思路：通过selenium打开网页，然后将网页保存为图片 依赖：chrome与chromedriver基础 1. 首先官方下载chromedriverChromeDriver.com官方地址下载：https://chromedriver.com/ 需...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"python","slug":"python","count":4,"path":"api/categories/python.json"}],"tags":[{"name":"python经验","slug":"python经验","count":3,"path":"api/tags/python经验.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Python%E5%B0%86%E7%BD%91%E9%A1%B5%E4%BF%9D%E5%AD%98%E4%B8%BA%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">Python将网页保存为图片</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E9%A6%96%E5%85%88%E5%AE%98%E6%96%B9%E4%B8%8B%E8%BD%BDchromedriver\"><span class=\"toc-text\">1. 首先官方下载chromedriver</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%BA%86\"><span class=\"toc-text\">2. 代码开发了</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-docker%E6%9C%8D%E5%8A%A1%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">3. docker服务运行</span></a></li></ol></li></ol>","author":{"name":"小禅又小禅","slug":"blog-author","avatar":"/images/7760650_0_final.png","link":"/","description":"小禅又小禅，哎哎哎呀","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"python时间处理","uid":"d275443537d796e283f637e672cf7884","slug":"python时间处理","date":"2024-01-27T15:01:09.000Z","updated":"2024-01-30T14:30:40.756Z","comments":false,"path":"api/articles/python时间处理.json","keywords":null,"cover":"images/7753777_0_final.png","text":"Python处理时间的几种方式1. 内置模块：time和datetime1.1 time官方地址：https://docs.python.org/zh-cn/3/library/time.html 用的最多的几个方法time.time(),time.sleep(secs),tim...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"python","slug":"python","count":4,"path":"api/categories/python.json"}],"tags":[{"name":"python经验","slug":"python经验","count":3,"path":"api/tags/python经验.json"}],"author":{"name":"小禅又小禅","slug":"blog-author","avatar":"/images/7760650_0_final.png","link":"/","description":"小禅又小禅，哎哎哎呀","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"python将整个项目的py转为so","uid":"131b7583d9015ea1c037b717572010d5","slug":"python将整个项目的py转为so","date":"2023-08-19T07:13:54.000Z","updated":"2023-08-19T11:41:17.461Z","comments":false,"path":"api/articles/python将整个项目的py转为so.json","keywords":null,"cover":"images/7753777_0_final.png","text":"将整python项目的代码中的py文件转为so [重要提醒] 执行打包的动作，不要在源文件上进行，把代码复制到打包环境后再去打包分发，否则会因为清理代码的动作，造成代码丢失 代码清理会清理&#39;.c&#39;, &#39;.py&#39;, &#39;.pyc&#39;, &...","link":"","photos":[],"count_time":{"symbolsCount":"8.9k","symbolsTime":"8 mins."},"categories":[{"name":"python","slug":"python","count":4,"path":"api/categories/python.json"}],"tags":[{"name":"加密","slug":"加密","count":2,"path":"api/tags/加密.json"}],"author":{"name":"小禅又小禅","slug":"blog-author","avatar":"/images/7760650_0_final.png","link":"/","description":"小禅又小禅，哎哎哎呀","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}